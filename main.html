<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Football Stadiums Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script> <!-- Added D3.js -->
    <script src="data.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<img id="pl-logo" src="./image/pl_white.png" alt="Premier League Logo">
<div id="title">
    通过可视化带你认识“英超”
</div>
<div id="intro-text">
    英格兰足球超级联赛（Premier League），通常简称“英超”，是英格兰足球总会属下的最高等级职业足球联赛。<br>
    作为世界上最受欢迎的体育联赛之一，英超以其快节奏的比赛风格、激烈的竞争环境和顶级的球星阵容闻名于世。<br>
    这里汇聚了曼联、利物浦、阿森纳、切尔西、曼城等豪门俱乐部，每个赛季都上演着扣人心弦的冠军争夺战。<br><br>
    我们的可视化首先实现了“英超地图”，通过地图展示各俱乐部的分布以及基本情况<br>
    随后我们通过多种方法可视化了英超联赛数据，直观展示了各俱乐部特点和联赛发展
</div>
<div id="msg">

</div>
<div id="chart">
    英超地图
</div>
<div id="chart-container"></div>
<script src="js/map.js"></script>
<p id="data">
    从数据深入分析“英超”
</p>
<div id="radarChart">
    雷达图
</div>


<div id="radar-section-container">
    <p class="radar-subtitle">2021-2022赛季 · 20支球队完整数据对比</p>

    <div class="dashboard">
        <div class="chart-panel">
            <h2 class="section-title" id="chartTitle">曼城 - 2021-2022赛季表现雷达图</h2>
            <!-- Renamed ID to avoid conflict -->
            <div class="radar-chart-visual-container" id="radar-chart-visual"></div>
            <div class="legend" id="chartLegend"></div>

            <h3 class="section-title" style="margin-top:30px">数据明细表</h3>
            <table class="data-table" id="dataTable"></table>

            <div class="metrics-legend">
                <strong>指标说明：</strong><br>
                1. <strong>场均进球</strong>：总进球÷38场（单位：球）<br>
                2. <strong>场均射正</strong>：总射正次数÷38场（单位：次）<br>
                3. <strong>场均角球</strong>：总角球数÷38场（单位：次）<br>
                4. <strong>防守得分</strong>：10-场均失球（单位：分，失球越少分数越高）<br>
                5. <strong>零封率</strong>：零封场次占比（单位：%）<br>
                6. <strong>胜率</strong>：获胜场次占比（单位：%）
            </div>
        </div>

        <div class="controls-panel">
            <h3 class="section-title">选择俱乐部</h3>
            <div class="team-buttons" id="teamButtons"></div>

            <h3 class="section-title">可视化模式</h3>
            <label for="modeSelect"></label><select class="mode-select" id="modeSelect">
                <option value="single">单队视图</option>
                <option value="compare">两队对比</option>
            </select>

            <div id="comparisonGroup" style="display:none;margin-top:20px">
                <h3 class="section-title">对比球队</h3>
                <label for="teamASelect"></label><select class="mode-select" id="teamASelect"></select>
                <label for="teamBSelect"></label><select class="mode-select" id="teamBSelect" style="margin-top:10px"></select>
            </div>
        </div>
    </div>
</div>

<div id="resultsChart">
    比赛结果
</div>

<div id="results-section-container">

    <div class="results-card">
        <div class="chart-header">比赛结果分布（主胜/平局/客胜）</div>
        <div id="chart-result" class="d3-chart-container"></div>
        <div class="hint" style="text-align: center;">交互：鼠标悬停查看具体数量与比例</div>
    </div>


    <div class="results-card">
        <div class="chart-header">控制台</div>
        
        <div class="control-group">
            <span class="control-label">排序方式</span>
            <button id="sort-goals" class="btn">切换排序方式</button>
            <div class="hint">当前：按进球数降序排列</div>
        </div>

        <div class="control-group">
            <span class="control-label">图表说明</span>
            <div class="hint">
                • <strong>饼图</strong>：显示所有比赛的结果分布<br>
                • <strong>条形图</strong>：显示各队赛季总进球数<br>
                • 条形图支持两种排序方式
            </div>
        </div>
    </div>


    <div class="results-card full-width">
        <div class="chart-header">各队赛季总进球数统计</div>
        <div id="chart-goals" class="d3-chart-container" style="height: 500px"></div>
<!--        <div class="hint">说明：条形表示每个球队的赛季总进球（主场进球 + 客场进球）。鼠标悬停显示更多信息。</div>-->
    </div>
</div>


<div id="rankChartLabel">
    历史排名
</div>

<div id="rank-chart-container">
    <h1 id="rank-chart-header">英超六大豪门 2000–2022 赛季最终排名变化</h1>
    <div id="rank-chart-visual"></div>
</div>

<div class="d3-tooltip" id="d3-tooltip"></div>
<script src="js/radar.js"></script>
<script src="js/results.js"></script>
<script src="js/rank.js"></script>

<div id="derby">
    德比大战
</div>

<div id="derby-section-container">
    <div class="carousel-container">
        <div class="carousel-track" id="derby-carousel-track">
            <div class="carousel-slide"><img src="./image/derby/1.jpg" alt="Derby 1"></div>
            <div class="carousel-slide"><img src="./image/derby/2.jpg" alt="Derby 2"></div>
            <div class="carousel-slide"><img src="./image/derby/3.jpg" alt="Derby 3"></div>
            <div class="carousel-slide"><img src="./image/derby/4.jpg" alt="Derby 4"></div>
            <div class="carousel-slide"><img src="./image/derby/5.jpg" alt="Derby 5"></div>
            <div class="carousel-slide"><img src="./image/derby/6.jpg" alt="Derby 6"></div>
        </div>
    </div>

    <div class="derby-links-container">
        <div class="derby-card">
            <a href="./Derby/london.html">
                <div class="img-wrapper">
                    <img src="./image/derby/lon.jpg" alt="London Derby">
                </div>
                <div class="derby-label">北伦敦德比</div>
            </a>
        </div>
        <div class="derby-card">
            <a href="./Derby/man.html">
                <div class="img-wrapper">
                    <img src="./image/derby/man.jpg" alt="Manchester Derby">
                </div>
                <div class="derby-label">曼市德比</div>
            </a>
        </div>
        <div class="derby-card">
            <a href="./Derby/bigred.html">
                <div class="img-wrapper">
                    <img src="./image/derby/red.jpg" alt="Double Red Derby">
                </div>
                <div class="derby-label">双红会</div>
            </a>
        </div>
    </div>
</div>

<script src="js/derby.js"></script>


</body>
</html>
